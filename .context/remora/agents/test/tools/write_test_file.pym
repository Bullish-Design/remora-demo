from grail import Input, external

content: str = Input("content")
path: str = Input("path")

@external
async def write_file(path: str, content: str) -> bool:
    ...


try:
    if not path:
        raise ValueError("Test file path is required.")
    if not content:
        raise ValueError("Test content is required.")
    
    await write_file(path, content)
    raw_result = {"success": True, "path": path}
    result = {
        "result": raw_result,
        "summary": f"Wrote test file {path}",
        "knowledge_delta": {"test_file_written": path},
        "outcome": "success",
        "written_file": path,
        "content": content,
    }
except Exception as exc:
    result = {
        "result": {"success": False, "error": str(exc)},
        "summary": f"Error: {exc}",
        "knowledge_delta": {},
        "outcome": "error",
        "error": str(exc),
    }

result
