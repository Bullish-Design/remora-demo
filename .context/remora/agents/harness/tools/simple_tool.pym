from grail import Input

node_text_input: str | None = Input("node_text_input", default=None)
node_text: str | None = Input("node_text", default=None)
target_file_input: str | None = Input("target_file_input", default=None)
target_file: str | None = Input("target_file", default=None)
workspace_id: str | None = Input("workspace_id", default=None)

payload: str = Input("payload", default="ping")

try:
    raw_result = {"payload": payload}
    result = {
        "result": raw_result,
        "summary": f"Echoed payload '{payload}'.",
        "knowledge_delta": {"payload": payload},
        "outcome": "success",
    }
except Exception as exc:
    result = {
        "result": None,
        "summary": f"Error: {exc}",
        "knowledge_delta": {},
        "outcome": "error",
        "error": str(exc),
    }

result
