class CompiledQuery:
    """A compiled tree-sitter query with metadata."""

    def __init__(self, query: Query, source_file: Path, query_text: str, query_name: str) -> None:
        self.query = query
        self.source_file = source_file
        self.query_text = query_text
        self._query_name = query_name

    @property
    def name(self) -> str:
        """Query name derived from filename (e.g. 'function' from 'function.scm')."""
        return self._query_name