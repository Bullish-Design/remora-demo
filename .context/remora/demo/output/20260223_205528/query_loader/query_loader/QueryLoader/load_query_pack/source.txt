def load_query_pack(
        self,
        query_dir: Path,
        language: str,
        query_pack: str,
    ) -> list[CompiledQuery]:
        """Load all .scm files from a query pack directory.

        Args:
            query_dir: Root query directory (e.g. src/remora/queries/).
            language: Language subdirectory (e.g. "python", "toml", "markdown").
            query_pack: Query pack subdirectory (e.g. "remora_core").

        Returns:
            List of compiled queries.

        Raises:
            DiscoveryError: If query pack directory doesn't exist or a query has syntax errors.
        """
        pack_dir = query_dir / language / query_pack
        if not pack_dir.is_dir():
            raise DiscoveryError(
                f"Query pack directory not found: {pack_dir}",
            )

        scm_files = sorted(pack_dir.glob("*.scm"))
        if not scm_files:
            raise DiscoveryError(
                f"No .scm query files found in: {pack_dir}",
            )

        # Dynamically load the language for query compilation
        grammar_module = f"tree_sitter_{language}"
        try:
            grammar_pkg = importlib.import_module(grammar_module)
        except ImportError as exc:
            raise DiscoveryError(f"Failed to import grammar module: {grammar_module}") from exc

        ts_language = Language(grammar_pkg.language())

        compiled: list[CompiledQuery] = []
        for scm_file in scm_files:
            compiled.append(self._compile_query(scm_file, ts_language))

        logger.info(
            "Loaded %d queries from %s/%s: %s",
            len(compiled),
            language,
            query_pack,
            [q.name for q in compiled],
        )
        return compiled