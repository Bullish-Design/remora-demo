def _collect_files(self, extensions: set[str]) -> list[Path]:
        """Walk root_dirs and collect files matching the given extensions."""
        files: list[Path] = []
        for root in self.root_dirs:
            if root.is_file() and root.suffix in extensions:
                files.append(root)
            elif root.is_dir():
                for ext in extensions:
                    files.extend(sorted(root.rglob(f"*{ext}")))
        return files