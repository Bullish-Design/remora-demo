def extract(
        self,
        file_path: Path,
        tree: Tree,
        source_bytes: bytes,
        queries: list[CompiledQuery],
    ) -> list[CSTNode]:
        """Run all queries against a tree and return discovered CSTNodes.

        Args:
            file_path: Path to the source file (for node_id and file_path fields).
            tree: Parsed tree-sitter tree.
            source_bytes: Raw source bytes (for text extraction).
            queries: List of compiled queries to execute.

        Returns:
            Deduplicated, sorted list of CSTNode instances.
        """
        nodes: list[CSTNode] = []
        seen_ids: set[str] = set()

        for compiled_query in queries:
            new_nodes = self._run_query(file_path, tree, source_bytes, compiled_query)
            for node in new_nodes:
                if node.node_id not in seen_ids:
                    seen_ids.add(node.node_id)
                    nodes.append(node)

        nodes.sort(key=lambda n: (str(n.file_path), n.start_byte, n.node_type, n.name))
        return nodes